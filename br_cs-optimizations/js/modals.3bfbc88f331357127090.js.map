{"version":3,"sources":["webpack:///./App/Containers/Modals/modals.jsx"],"names":["connect","_ref3","ui","client","modules","common","is_unsupported_contract_modal_visible","is_denial_of_service_modal_visible","is_client_allowed_to_visit","is_market_unavailable_visible","has_only_forward_starting_contracts","is_services_error_visible","resetPreviousSymbol","trade","setHasOnlyForwardingContracts","resetPurchase","requestProposal","services_error","toggleServicesErrorModal","_ref","toggleUnsupportedContractModal","unsupportedContractOnClose","denialOfServiceOnConfirm","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","switchAccount","virtual_account_loginid","stop","_ref2","_x","apply","this","arguments","react_default","a","createElement","Fragment","Lazy","ctor","__webpack_require__","e","then","bind","should_load","onConfirm","window","open","urlFor","undefined","onClose","is_visible","is","onCancel","type"],"mappings":"0SAQA,IAiFeA,cAAQ,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,GAAIC,EAAPF,EAAOE,OAAQC,EAAfH,EAAeG,QAASC,EAAxBJ,EAAwBI,OAAxB,MAAsC,CACzDC,sCAAuCJ,EAAGI,sCAC1CC,oCAAwCJ,EAAOK,2BAC/CC,8BAAuCP,EAAGQ,oCAC1CC,0BAAuCT,EAAGS,0BAC1CC,oBAAuCR,EAAQS,MAAMD,oBACrDE,8BAAuCZ,EAAGY,8BAC1CC,cAAuCX,EAAQS,MAAMG,gBACrDC,eAAuCZ,EAAOY,eAC9CC,yBAAuChB,EAAGgB,2BAT/BlB,CAjFA,SAAAmB,GAWT,IAVFZ,EAUEY,EAVFZ,mCACAD,EASEa,EATFb,sCACAG,EAQEU,EARFV,8BACAE,EAOEQ,EAPFR,0BACAS,EAMED,EANFC,+BACAN,EAKEK,EALFL,8BACAF,EAIEO,EAJFP,oBACAM,EAGEC,EAHFD,yBACAH,EAEEI,EAFFJ,cACAE,EACEE,EADFF,eAOMI,EAA6B,WAC/BD,GAA+B,IAK7BE,KAAwBC,mBAAAC,KAAG,SAAAC,EAAOtB,GAAP,OAAAoB,mBAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACvB1B,EAAO2B,cAAc3B,EAAO4B,yBADL,wBAAAJ,EAAAK,SAAAP,KAAHQ,8KAAA,SAAAC,GAAA,OAAAD,EAAAE,MAAAC,KAAAC,aAAA,MAAAJ,EAmB9B,OACIK,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACIH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIC,KAAM,kBAAMC,EAAAC,EAAA,4BAAAC,KAAAF,EAAAG,KAAA,YACZC,YAAa1C,EACb2C,UAnCyB,WACjCC,OAAOC,KAAKC,iBAAO,wBAAoBC,OAAWA,GAAW,GAAO,UACpEhC,KAkCQiC,QAASjC,EACTkC,WAAYjD,EACZkD,GAAG,6BAEPlB,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIC,KAAM,kBAAMC,EAAAC,EAAA,wBAAAC,KAAAF,EAAAG,KAAA,YACZC,YAAazC,EACb0C,UAAW3B,EACXmC,SApCoB,WAC5BP,OAAOC,KAAKC,iBAAO,eAAWC,OAAWA,GAAW,KAoC5CE,WAAYhD,EACZiD,GAAG,yBAEPlB,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIC,KAAM,kBAAMC,EAAAC,EAAA,0BAAAC,KAAAF,EAAAG,KAAA,YACZC,YAAazC,EACb0C,UApCuB,WAC/BnC,GAA8B,GAC9BF,KAmCQ6C,SAhCsB,kBAAMP,OAAOC,KAAKC,iBAAO,eAAWC,OAAWA,GAAW,KACxFvC,GAA8B,IAgCtByC,WAAY9C,EACZ+C,GAAG,2BAEPlB,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIC,KAAM,kBAAMC,EAAAC,EAAA,sBAAAC,KAAAF,EAAAG,KAAA,YACZC,YAAarC,EACbsC,UApCwB,WAChC/B,GAAyB,GACG,QAAxBD,EAAeyC,MACf3C,KAkCIE,eAAgBA,EAChBuC,GAAG","file":"js/modals.3bfbc88f331357127090.js","sourcesContent":["import React       from 'react';\nimport { connect } from 'Stores/connect';\nimport { urlFor }  from '_common/url';\nimport Lazy        from '../Lazy';\nimport 'Sass/app/modules/modals.scss';\n\n// const AccountSignupModal       = React.lazy(() => import(/* webpackChunkName: \"AccountSignupModal\" */'./Containers/AccountSignupModal'));\n\nconst Modals = ({\n    is_denial_of_service_modal_visible,\n    is_unsupported_contract_modal_visible,\n    is_market_unavailable_visible,\n    is_services_error_visible,\n    toggleUnsupportedContractModal,\n    setHasOnlyForwardingContracts,\n    resetPreviousSymbol,\n    toggleServicesErrorModal,\n    resetPurchase,\n    services_error,\n}) => {\n    const unsupportedContractOnConfirm = () => {\n        window.open(urlFor('user/portfoliows', undefined, undefined, true), '_blank');\n        unsupportedContractOnClose();\n    };\n\n    const unsupportedContractOnClose = () => {\n        toggleUnsupportedContractModal(false);\n    };\n    const denialOfServiceOnCancel = () => {\n        window.open(urlFor('trading', undefined, undefined, true));\n    };\n    const denialOfServiceOnConfirm = async (client) => {\n        await client.switchAccount(client.virtual_account_loginid);\n    };\n\n    const marketUnavailableOnConfirm = () => {\n        setHasOnlyForwardingContracts(false);\n        resetPreviousSymbol();\n    };\n\n    const marketUnavailableOnCancel = () => window.open(urlFor('trading', undefined, undefined, true)) &&\n        setHasOnlyForwardingContracts(false);\n\n    const servicesErrorModalOnConfirm = () => {\n        toggleServicesErrorModal(false);\n        if (services_error.type === 'buy') {\n            resetPurchase();\n        }\n    };\n\n    return (\n        <React.Fragment>\n            <Lazy\n                ctor={() => import(/* webpackChunkName: \"UnsupportedContractModal\" */'../UnsupportedContractModal')}\n                should_load={is_unsupported_contract_modal_visible}\n                onConfirm={unsupportedContractOnConfirm}\n                onClose={unsupportedContractOnClose}\n                is_visible={is_unsupported_contract_modal_visible}\n                is='UnsupportedContractModal'\n            />\n            <Lazy\n                ctor={() => import(/* webpackChunkName: \"DenialOfServiceModal\" */'../DenialOfServiceModal')}\n                should_load={is_denial_of_service_modal_visible}\n                onConfirm={denialOfServiceOnConfirm}\n                onCancel={denialOfServiceOnCancel}\n                is_visible={is_denial_of_service_modal_visible}\n                is='DenialOfServiceModal'\n            />\n            <Lazy\n                ctor={() => import(/* webpackChunkName: \"MarketUnavailableModal\" */'../MarketUnavailableModal')}\n                should_load={is_denial_of_service_modal_visible}\n                onConfirm={marketUnavailableOnConfirm}\n                onCancel={marketUnavailableOnCancel}\n                is_visible={is_market_unavailable_visible}\n                is='MarketUnavailableModal'\n            />\n            <Lazy\n                ctor={() => import(/* webpackChunkName: \"ServicesErrorModal\" */'../ServicesErrorModal')}\n                should_load={is_services_error_visible}\n                onConfirm={servicesErrorModalOnConfirm}\n                services_error={services_error}\n                is='ServicesErrorModal'\n            />\n            {/* TODO: Enable AccountSignupModal once its UI component is ready */}\n            {/* <AccountSignupModal /> */}\n        </React.Fragment>\n    );\n};\n\nexport default connect(({ ui, client, modules, common }) => ({\n    is_unsupported_contract_modal_visible: ui.is_unsupported_contract_modal_visible,\n    is_denial_of_service_modal_visible   : !client.is_client_allowed_to_visit,\n    is_market_unavailable_visible        : ui.has_only_forward_starting_contracts,\n    is_services_error_visible            : ui.is_services_error_visible,\n    resetPreviousSymbol                  : modules.trade.resetPreviousSymbol,\n    setHasOnlyForwardingContracts        : ui.setHasOnlyForwardingContracts,\n    resetPurchase                        : modules.trade.requestProposal,\n    services_error                       : common.services_error,\n    toggleServicesErrorModal             : ui.toggleServicesErrorModal,\n}))(Modals);\n"],"sourceRoot":""}